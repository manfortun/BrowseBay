@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <div id="itemsList"></div>
</div>
@section Scripts{
    <script>
        window.onload = function () {
            console.log('Loading home page');
            getItems(null);
        }

        function getItems(pageNo) {
            $.ajax({
                url: '/Home/GetItems',
                type: 'GET',
                data: { pageNo: pageNo },
                success: function (result) {
                    $('#itemsList').html(result);
                    console.log('Displaying items.');
                },
                error: function () {
                    console.log('Something went wrong on obtaining the products.');
                }
            });
        }

        function deleteProduct() {
            return confirm('Are you sure you want to delete this item?');
        }

        function addtocart(id) {
            $.ajax({
                url: '/Home/AddToCart',
                type: 'GET',
                data: { id: id },
                success: function (result) {
                    toastr.success('Added ' + result + ' to cart');
                },
                error: function () {
                    console.log('Error occured.');
                }
            });
        }
    </script>
}